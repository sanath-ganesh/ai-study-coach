---chunk-0---
Lecture 12: A Bag Implementation that Links Data - 1 Materials are edited by Prof. Jones Yu fromData Structures and Abstractions with Java, 5th edition. By Frank M. Carrano and Timothy M. Henry. ISBN-13 978-0-13-483169-5 © 2019 Pearson Education, Inc. Prof. Chen-Hsiang (Jones) Yu, Ph.D.College of Engineering 2INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Array has a fixed size.§May become full.§Alternatively, may have wasted space.§Resizing is possible but requires overhead of time. Problems with Array Implementation 3INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Introduces a new data organization that uses memory only as needed for a new entry.§Returns the unneeded memory to the system after an entry is removed. Alternative Approach?! 4INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Empty classroom§Numbered desks stored in hallway»Number on back of desk is the “address”§Number on desktop references another desk in chain of desks§Desks are linked by the numbers Analogy 5INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Figure 3-1: A chain of five desks Analogy 6INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Figure 3-2: One desk in the room Forming a Chain by Adding to Its Beginning Figure 3-3: Two linked desks, with the newest desk first Figure 3-4: Three linked desks, with the newest desk first. 7INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Question§The instructor knows the address of only one desk.»A. Where in the chain is that desk? »First»Last »Somewhere else»B. Who is sitting at that desk?»the student who arrived first»the student who arrived last»Someone else 8INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Answer§The instructor knows the address of only one desk.»A. Where in the chain is that desk? »First»Last »Somewhere else»B. Who is sitting at that desk?»the student who arrived first»the student who arrived last»Someone else 9INFO 6205 -ProgramStructureand AlgorithmsFall 2024Pseudocode details the steps taken to form a chain of desks Forming a Chain by Adding to Its Beginning// Process the first student newDesk represents the new student’s desk New student sits at newDesk Instructor memorizes the address of newDesk // Process the remaining students while (students arrive) { newDesk represents the new student’s desk New student sits at newDesk Write the instructor’s memorized address on newDesk Instructor memorizes the address of newDesk } 10INFO 6205 -ProgramStructureand AlgorithmsFall 2024Listing 3-1: The private inner class Node The Private Class Node privateclassNode{privateT data; // Entry in bagprivateNode next; // Link to next node privateNode(T dataPortion) { this(dataPortion, null); } // end constructor privateNode(T dataPortion, Node nextNode) { data = dataPortion; next = nextNode; } // end constructor } // end Node 11INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Figure 3-5: Two linked nodes that each reference object data The Private Class Node 12INFO 6205 -ProgramStructureand AlgorithmsFall 2024Listing 3-2: An outline of the class LinkedBag An Outline of the Class LinkedBag - Part 1 /** A class of bags whose entries are stored in a chain of linked nodes. The bag is never full.*/publicclassLinkedBag<T>implementsBagInterface<T>{privateNode firstNode; // reference to first nodeprivateintnumberOfEntries;publicLinkedBag(){ firstNode= null; numberOfEntries= 0;} // end default constructor // . . . 13INFO 6205 -ProgramStructureand AlgorithmsFall 2024Listing 3-2: An outline of the class LinkedBag An Outline of the Class LinkedBag - Part 2 privateclassNode{privateT data; // Entry in bagprivateNode next; // Link to next node privateNode(T dataPortion) { this(dataPortion, null); } // end constructor privateNode(T dataPortion, Node nextNode) { data = dataPortion; next = nextNode; } // end constructor} // end Node} // end LinkedBag 14INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Figure 3-6: Adding a new node to an empty chain. (a) An empty chain and a new node; (b) after adding a new node to a chain that was empty Beginning a Chain of Nodes 15INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Figure 3-7: A chain of nodes just before and just after adding a node at the beginning. (a) Before adding a node at the beginning; (b) After adding a node at the beginning. Beginning a Chain of Nodes 16INFO 6205 -ProgramStructureand AlgorithmsFall 2024 The method add Beginning a Chain of Nodes/** Adds a new entry to this bag.@paramnewEntryThe object to be added as a new entry.@returnTrue. */publicbooleanadd(T newEntry) // OutOfMemoryErrorpossible{// Add to beginning of chain: Node newNode= newNode(newEntry);newNode.next= firstNode;// Make new node reference rest of chain// (firstNodeis null if chain is empty) firstNode= newNode; // New node is at beginning of chain numberOfEntries++; return true;} // end add 17INFO 6205 -ProgramStructureand AlgorithmsFall 2024The method toArray returns an array of the entries currently in a bag Method toArray/** Retrieves all entries that are in this bag.@returnA newly allocated array of all the entries in the bag. */publicT[] toArray(){// The cast is safe because the new array contains null entries@SuppressWarnings("unchecked")T[] result = (T[])newObject[numberOfEntries]; // Unchecked castintindex = 0;Node currentNode= firstNode;while((index < numberOfEntries) && (currentNode!= null)){result[index] = currentNode.data;index++;currentNode= currentNode.next;} // end while returnresult;} // end toArray 18INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Question§In the previous definition of toArray, the while() statement uses following Boolean expression to control the loop. §Is it necessary to involve the values of both index and currentNode? Why? (index < numberOfEntries) && (currentNode != null) 19INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Answer§Testing the value of both indexand currentNodeis not necessary. §Although testing either of these values is sufficient, testing both values provides a check against mistakes in your code. Testing the Core Methods 21INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Listing 3-3: A sample program that tests some methods in the class LinkedBag Test Program - Part 1/** A test of the methods add, toArray, isEmpty, and getCurrentSize, as defined in the first draft of the class LinkedBag.*/publicclassLinkedBagDemo1{publicstaticvoidmain(String[] args) {System.out.println("Creating an empty bag.");BagInterface<String> aBag= newLinkedBag1<>();testIsEmpty(aBag, true); displayBag(aBag);String[] contentsOfBag= {"A", "D", "B", "A", "C", "A", "D"};testAdd(aBag, contentsOfBag); testIsEmpty(aBag, false);} // end main Listing 3-3: A sample program that tests some methods in the class LinkedBag // Tests the method isEmpty.// Precondition: If bag is empty, the parameter empty should be true;// otherwise, it should be false.privatestaticvoidtestIsEmpty(BagInterface<String> bag, booleanempty){System.out.print("\nTestingisEmptywith ");if(empty)System.out.println("an empty bag:");elseSystem.out.println("a bag that is not empty:");System.out.print("isEmptyfinds the bag ");if(empty&& bag.isEmpty())System.out.println("empty: OK."); elseif(empty) System.out.println("not empty, but it is: ERROR."); elseif(!empty && bag.isEmpty()) System.out.println("empty, but it is not empty: ERROR."); elseSystem.out.println("not empty: OK.");} // end testIsEmpty Test Program - Part 2 23INFO 6205 -ProgramStructureand AlgorithmsFall 2024
---chunk-1---
the values of both index and currentNode? Why? (index < numberOfEntries) && (currentNode != null) 19INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Answer§Testing the value of both indexand currentNodeis not necessary. §Although testing either of these values is sufficient, testing both values provides a check against mistakes in your code. Testing the Core Methods 21INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Listing 3-3: A sample program that tests some methods in the class LinkedBag Test Program - Part 1/** A test of the methods add, toArray, isEmpty, and getCurrentSize, as defined in the first draft of the class LinkedBag.*/publicclassLinkedBagDemo1{publicstaticvoidmain(String[] args) {System.out.println("Creating an empty bag.");BagInterface<String> aBag= newLinkedBag1<>();testIsEmpty(aBag, true); displayBag(aBag);String[] contentsOfBag= {"A", "D", "B", "A", "C", "A", "D"};testAdd(aBag, contentsOfBag); testIsEmpty(aBag, false);} // end main Listing 3-3: A sample program that tests some methods in the class LinkedBag // Tests the method isEmpty.// Precondition: If bag is empty, the parameter empty should be true;// otherwise, it should be false.privatestaticvoidtestIsEmpty(BagInterface<String> bag, booleanempty){System.out.print("\nTestingisEmptywith ");if(empty)System.out.println("an empty bag:");elseSystem.out.println("a bag that is not empty:");System.out.print("isEmptyfinds the bag ");if(empty&& bag.isEmpty())System.out.println("empty: OK."); elseif(empty) System.out.println("not empty, but it is: ERROR."); elseif(!empty && bag.isEmpty()) System.out.println("empty, but it is not empty: ERROR."); elseSystem.out.println("not empty: OK.");} // end testIsEmpty Test Program - Part 2 23INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Listing 3-3: A sample program that tests some methods in the class LinkedBag Test Program - Part 3// Tests the method add.privatestaticvoidtestAdd(BagInterface<String> aBag, String[] content){System.out.print("Adding the following strings to the bag: ");for(intindex = 0; index < content.length; index++){if(aBag.add(content[index]))System.out.print(content[index] + " ");elseSystem.out.print("\nUnableto add "+ content[index] +" to the bag.");} // end forSystem.out.println();displayBag(aBag);} // end testAdd 24INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Listing 3-3: A sample program that tests some methods in the class LinkedBag Test Program - Part 4// Tests the method toArraywhile displaying the bag.privatestaticvoiddisplayBag(BagInterface<String> aBag){System.out.println("The bag contains the following string(s):");Object[] bagArray= aBag.toArray();for(intindex = 0; index < bagArray.length; index++){System.out.print(bagArray[index] + " ");} // end forSystem.out.println();} // end displayBag} // end LinkedBagDemo1 25INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Test Program - Result Creating an empty bag.Testing isEmptywith an empty bag:isEmptyfinds the bag empty: OK.The bag contains the following string(s):Adding the following strings to the bag: A D B A C A DThe bag contains the following string(s):D A C A B D ATesting isEmptywith a bag that is not empty:isEmptyfinds the bag not empty: OK. Program Output 26INFO 6205 -ProgramStructureand AlgorithmsFall 2024Counts the number of times a given entry appears Method getFrequencyOf /** Counts the number of times a given entry appears in this bag. @paramanEntryThe entry to be counted.@returnThe number of times anEntryappears in the bag.*/publicintgetFrequencyOf(T anEntry){ intfrequency = 0;intloopCounter= 0; Node currentNode= firstNode;while((loopCounter< numberOfEntries) && (currentNode!= null)){if(anEntry.equals(currentNode.data)){frequency++;} // end ifloopCounter++;currentNode= currentNode.next;} // end while returnfrequency;} // end getFrequencyOf 27INFO 6205 -ProgramStructureand AlgorithmsFall 2024Determine whether a bag contains a given entry Method contains/** Tests whether this bag contains a given entry.@paramanEntryThe entry to locate.@returnTrue if the bag contains anEntry, or false otherwise */ publicbooleancontains(T anEntry){booleanfound = false;Node currentNode= firstNode;while(!found && (currentNode!= null)){if(anEntry.equals(currentNode.data))found = true;elsecurrentNode= currentNode.next;} // end whilereturnfound;} // end contains 28INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Question§If currentNode in the previous method contains() becomes null, what value does the method return when the bag is not empty? 29INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Answer§The method returns false.§If currentNode becomes null, the entire chain has been searched without success. 30INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Exercise§In a doubly linked chain, each node can reference the previous node as well as the next node. Following figure shows a doubly linked chain and its head reference. §Define a class to represent a node in a doubly linked chain. Write the class as an inner class of a class that implements the ADT bag. You can omit set and get methods. 31INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Answerprivate class DoublyLinkedNode{ private T data; // Entry in bagprivate DoublyLinkedNodenext; // Link to next nodeprivate DoublyLinkedNodeprevious; // Link to previous node private DoublyLinkedNode(T dataPortion) { this(dataPortion, null, null); } // end constructor private DoublyLinkedNode(T dataPortion, DoublyLinkedNode nextNode, DoublyLinkedNodepreviousNode) { data = dataPortion; next = nextNode; previous = previousNode; } // end constructor} // end DoublyLinkedNode
