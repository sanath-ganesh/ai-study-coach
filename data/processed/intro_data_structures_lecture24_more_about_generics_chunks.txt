---chunk-0---
Lecture 24: More about Generics Materials are edited by Prof. Jones Yu fromData Structures and Abstractions with Java, 5th edition. By Frank M. Carrano and Timothy M. Henry. ISBN-13 978-0-13-483169-5 © 2019 Pearson Education, Inc. Prof. Chen-Hsiang (Jones) Yu, Ph.D.College of Engineering 2INFO 6205 -ProgramStructureand AlgorithmsFall 2024 The Interface Comparable§Consider the method compareTofor class String§If sand tare strings, s.compareTo(t)is»Negative if scomes before t»Zero if sand tare equal»Positive if scomes after t 3INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §By invoking compareTo, you compare two objects of the class T.§The interface java.lang.ComparablepublicinterfaceComparable<T>{publicintcompareTo(T other);} // end Comparable The Interface Comparable 4INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Create a class Circle, define compareTopublicclassCircle implementsComparable<Circle>, Measurable{privatedoubleradius;// Definitions of constructors and methods are here.// . . .publicintcompareTo(Circle other){intresult;if(this.equals(other))result = 0;elseif(radius < other.radius)result = -1;elseresult = 1;returnresult;} // compareTo} // end Circle The Interface Comparable 5INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Suppose you have a class that does not define a type parameter in its header, but you want to use a generic data type in a method of that class.§Take following steps:»Write a type parameter enclosed in angle brackets in the method’s header just before its return type»Use the type parameter within the method as you would if it were in a generic class Generic Methods 6INFO 6205 -ProgramStructureand AlgorithmsFall 2024 publicclassExample{ publicstaticvoidmain(String args[]){String[] stringArray= {"apple", "banana", "carrot", "dandelion"};System.out.print("stringArraycontains ");displayArray(stringArray);Character[] characterArray= {'a', 'b', 'c', 'd'};System.out.print("characterArraycontains ");displayArray(characterArray);} // end main public static<T> void displayArray(T[] anArray) { for (T arrayEntry : anArray) { System.out.print(arrayEntry); System.out.print(' '); } // end for System.out.println(); } // end displayArray} // end Example Generic MethodsDifferent class types 7INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Consider this simple class of squares: §Different types of square objects are possible publicclassSquare<T>{privateT side;publicSquare(T initialSide){side = initialSide;} // end constructorpublicT getSide(){returnside;} // end getSide} // end Square Square<Integer> intSquare= newSquare<>(5);Square<Double> realSquare= newSquare<>(2.1);Square<String> stringSquare= newSquare<>("25"); Bounded Type Parameters 8INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Please type following code to your Eclipse and fix the error.Exercise (L24_E1)public class Square<T>{ private T side; public Square(T initialSide) { side = initialSide; } // end constructor public T getSide() { return side; } // end getSide public double getArea() { double s = side.doubleValue(); return s*s; }} // end Square 9INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §We want the side of a square to be a numeric value.§We can impose this restriction by making T represent a class that is derived from Number, the base class (superclass) of the classes Byte, Double, Float, Integer, Long and Short.§We bound T by using “T extends Number” in Square’s header. Answer 10INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Answerpublic class Square<T extendsNumber>{ private T side; public Square(T initialSide) { side = initialSide; } // end constructor public T getSide() { return side; } // end getSide public double getArea() { double s = side.doubleValue(); return s*s; }} // end Square 11INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Imagine that we want to write a static methodthat returns the smallest object in an array. Suppose that we wrote our method shown here:publicMyClass{// First draft and INCORRECT:publicstatic<T> T arrayMinimum(T[] anArray){T minimum = anArray[0];for(T arrayEntry: anArray){if(arrayEntry.compareTo(minimum) < 0)minimum = arrayEntry;} // end forreturnminimum;} // end arrayMinimum} // end MyClass Bounded Type Parameters (cont.) 12INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Header really should be as shownpublicMyClass{publicstatic<T extendsComparable<T>>T arrayMinimum(T[] anArray){T minimum = anArray[0];for(T arrayEntry: anArray){if(arrayEntry.compareTo(minimum) < 0)minimum = arrayEntry;} // end forreturnminimum;} // end arrayMinimum// . . .} // end MyClass Bounded Type Parameters 13INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §What, if anything, is wrong with the following class?Exercise public final class Min {public static T smallerOf(T x, T y) { if (x < y) return x; else return y;}} 14INFO 6205 -ProgramStructureand AlgorithmsFall 2024 Answer public final class Min {public static<T extendsComparable<T>> T smallerOf(T x, T y) { if (x.compareTo(y) <0) return x; else return y;}} 15INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Question mark, ?, is used to represent an unknown class type»Referred to as a wildcard§Consider following method and objectspublicstaticvoiddisplayPair(OrderedPair<?> pair){System.out.println(pair);} // end displayPair Wildcards 16INFO 6205 -ProgramStructureand AlgorithmsFall 2024 OrderedPair<String> aPair= newOrderedPair<>("apple", "banana"); OrderedPair<Integer> anotherPair= newOrderedPair<>(1, 2);displayPair(aPair);displayPair(anotherPair); Wildcards§Method displayPair will accept an argument, a pair of objects, whose data type is any class. 17INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Recall the method arrayMinimum()publicMyClass{publicstatic<T extendsComparable<T>>T arrayMinimum(T[] anArray){T minimum = anArray[0];for(T arrayEntry: anArray){if(arrayEntry.compareTo(minimum) < 0)minimum = arrayEntry;} // end forreturnminimum;} // end arrayMinimum// . . .} // end MyClass Bounded Wildcards 18INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Then, we called this method with the statementGadget smallestGadget = MyClass.arrayMinimum(myArray); Bounded Wildcards (cont.) where myArray is an array of Gadget objects.§Instead of comparing an object of T only with other objects of T, we can allow comparisons to objects of a superclass of T.<T extends Comparable<T>> <T extendsComparable<? super T>> 19INFO 6205 -ProgramStructureand AlgorithmsFall 2024 The class Gadgetis derived from the class Widget, which implements the interface Comparable <<interface>> Comparable<T>+compareTo(other: T):integer Widget+compareTo(other: Widget): integer Gadget Bounded Wildcards (cont.) 20INFO 6205 -ProgramStructureand AlgorithmsFall 2024 More About Generics 21INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Generic Methods−If you have a class that does not define a type parameter in its header −But, you want to use a generic data type in a method of that class. More About Generics (cont.) define a type parameter 22INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §T represents a class that derived from Comparable, i.e., we bound T by writing T extends Comparable. More About Generics (cont.) §? : represent an unknown class type and is referred to as a wildcard.§? super T means any superclass of T 23INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Q: Why not use “implements” instead of “extends” in More About Generics (cont.) §As the official document mentions: https://docs.oracle.com/javase/tutorial/java/generics/bounded.html To declare a bounded type parameter, list the type parameter's name, followed by theextendskeyword, followed by itsupper bound, ... Note that, in this context,extendsis used in a general sense to mean either "extends" (as in classes) or "implements" (as in interfaces).
---chunk-1---
20INFO 6205 -ProgramStructureand AlgorithmsFall 2024 More About Generics 21INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Generic Methods−If you have a class that does not define a type parameter in its header −But, you want to use a generic data type in a method of that class. More About Generics (cont.) define a type parameter 22INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §T represents a class that derived from Comparable, i.e., we bound T by writing T extends Comparable. More About Generics (cont.) §? : represent an unknown class type and is referred to as a wildcard.§? super T means any superclass of T 23INFO 6205 -ProgramStructureand AlgorithmsFall 2024 §Q: Why not use “implements” instead of “extends” in More About Generics (cont.) §As the official document mentions: https://docs.oracle.com/javase/tutorial/java/generics/bounded.html To declare a bounded type parameter, list the type parameter's name, followed by theextendskeyword, followed by itsupper bound, ... Note that, in this context,extendsis used in a general sense to mean either "extends" (as in classes) or "implements" (as in interfaces).
